{"version":3,"sources":["felix_grey.png","loading.gif","../node_modules/web3-eth-accounts/src sync","serviceWorker.js","DeviceContext.js","constants.js","Web3Context.js","styles.js","Admin.js","App.js","AR.js","Chooser.js","index.js","2.png"],"names":["module","exports","webpackEmptyContext","req","e","Error","code","keys","resolve","id","Boolean","window","location","hostname","match","DeviceContext","React","createContext","DeviceProvider","children","useState","fingerPrint","setFingerPrint","view","setView","useEffect","requestIdleCallback","Fingerprint2","get","components","values","map","component","value","murmur","x64hash128","join","setTimeout","Provider","isOwned","search","split","address","Web3Context","blockPoint","Meowbject","networks","provider","Web3","providers","HttpProvider","web3","meowb","eth","Contract","abi","meow","initialState","fetcher","response","status","ownership","owner","tributes","qr","log","reducer","state","action","type","what","JSON","stringify","Web3Provider","useReducer","dispatch","deviceAddress","setDeviceAddress","useContext","a","hashedFP","utils","keccak256","methods","checkAccount","call","account","net","getId","getAccounts","gAddress","addAccount","send","from","newAddress","accounts","create","addA","encodedABI","encodeABI","tx","to","gas","data","signTransaction","privateKey","signedT","sendSignedTransaction","rawTransaction","checkOwner","getTributes","claimQR","events","MeowError","returnValues","addQR","shape","color","QRID","MeowObjectAddedID","_id","message","AdminTag","styled","div","FetchStatus","Bottom","Owntainer","Loadtainer","Owner","Button","button","LogtainerTitle","Logtainer","FormContainer","InputField","input","Dropdown","select","img","host","Admin","name","useRef","setImg","setQR","makeQR","text","opts","errorCorrectionLevel","light","width","rendererOpts","quality","QRCode","toDataURL","drawQR","canvas","document","getElementById","templateImg","Image","qrImg","feliximg","ctx","getContext","clearRect","height","src","template","onload","drawImage","felix","style","position","top","onClick","textAlign","ref","placeholder","console","current","nvalue","svalue","cvalue","disabled","display","margin","maxWidth","boxShadow","loading","maxHeight","fontSize","textDecoration","href","overflowWrap","App","markerScene","omesh","thereIsQR","three","getColor","scene","THREE","halfHeight","innerHeight","camera","innerWidth","renderer","alpha","setSize","setClearColor","appendChild","domElement","geometry","material","emissive","shininess","specular","cube","add","spotLight","set","z","animate","requestAnimationFrame","rotation","x","y","render","querySelector","remove","cancelAnimationFrame","lineHeight","padding","l","i","key","borderBottom","THREEx","AR","setShape","setMsg","history","pushState","t","getT","WebGLRenderer","Color","left","body","onRenderFcts","Scene","Camera","artoolkitProfile","ArToolkitProfile","sourceWebcam","contextParameters","patternRatio","cameraParametersUrl","arToolkitSource","ArToolkitSource","sourceParameters","onResize","onResizeElement","copyElementSizeTo","arToolkitContext","arController","init","addEventListener","ArToolkitContext","projectionMatrix","copy","getProjectionMatrix","push","ready","update","markerGroup","Group","ArMarkerControls","patternUrl","mesh","AxesHelper","delta","Math","PI","lastTimeMsec","nowMsec","deltaMsec","min","forEach","onRenderFct","SphereGeometry","BoxGeometry","TorusGeometry","TorusKnotGeometry","MeshBasicMaterial","Mesh","zIndex","className","delay","onError","onScan","d","Chooser","ReactDOM","navigator","serviceWorker","then","registration","unregister"],"mappings":"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","file":"static/js/main.66ed1dca.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/felix_grey.1be63f69.png\";","module.exports = __webpack_public_path__ + \"static/media/loading.77583f10.gif\";","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 332;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Fingerprint2 from \"fingerprintjs2\";\r\nexport const DeviceContext = React.createContext();\r\n\r\nconst DeviceProvider = ({ children }) => {\r\n  const [fingerPrint, setFingerPrint] = useState();\r\n  const [view, setView] = useState(\"viewer\");\r\n  useEffect(() => {\r\n    const getFingerPrint = () => {\r\n      if (window.requestIdleCallback) {\r\n        requestIdleCallback(function() {\r\n          Fingerprint2.get(function(components) {\r\n            var values = components.map(function(component) {\r\n              return component.value;\r\n            });\r\n            var murmur = Fingerprint2.x64hash128(values.join(\"\"), 31);\r\n            setFingerPrint(murmur);\r\n          });\r\n        });\r\n      } else {\r\n        setTimeout(function() {\r\n          Fingerprint2.get(function(components) {\r\n            var values = components.map(function(component) {\r\n              return component.value;\r\n            });\r\n            var murmur = Fingerprint2.x64hash128(values.join(\"\"), 31);\r\n            setFingerPrint(murmur);\r\n          });\r\n        }, 500);\r\n      }\r\n    };\r\n    getFingerPrint();\r\n  }, []);\r\n\r\n  return (\r\n    <DeviceContext.Provider value={{ fingerPrint, view, setView }}>\r\n      {children}\r\n    </DeviceContext.Provider>\r\n  );\r\n};\r\n\r\nexport default DeviceProvider;\r\n","\r\nconst qr = window.location.search ? window.location.search.split('?')[1].split(\"-\") : [1, \"null_object\"];\r\nexport const GANACHE_ID = 1569465605456;\r\nexport const KALE_ID = 1158070613;\r\nexport const isOwned = address =>\r\n    address === \"0x0000000000000000000000000000000000000000\" ? false : true;\r\nexport const getQR = () => qr[1];\r\nexport const getID = () => qr[0];\r\n","import React, { useContext, useEffect, useReducer, useState } from \"react\";\r\nimport Web3 from \"web3\";\r\nimport Meowbject from \"./contracts/Meowbject\";\r\nimport { DeviceContext } from \"./DeviceContext\";\r\nimport { GANACHE_ID, getID, KALE_ID } from \"./constants\";\r\n\r\nexport const Web3Context = React.createContext();\r\n\r\nconst KALE_A = \"u1qhdnj7go\";\r\nconst KALE_B = \"c2uiuaT6hOXr545x90ghGWiuwFC_rLhCTlV0wacrO-k\";\r\nconst RPC = \"u1wxxj5g51-u1ghyojs49-rpc.us1-azure.kaleido.io\";\r\nconst KWS = \"u1wxxj5g51-u1ghyojs49-wss.us1-azure.kaleido.io\";\r\n// const blockPoint = \"http://localhost:8545\";\r\n// const wssBP = \"ws://localhost:8545\";\r\nconst blockPoint = `https://${KALE_A}:${KALE_B}@${RPC}`;\r\n\r\n// const address = \"0x64051eB06dC09432944012bB3Ac92E5107e48bBe\";\r\n\r\n//const address = Meowbject.networks[GANACHE_ID].address;\r\nconst address = Meowbject.networks[KALE_ID].address;\r\nconst provider = new Web3.providers.HttpProvider(blockPoint);\r\nconst web3 = new Web3(provider);\r\nconst meowb = new web3.eth.Contract(Meowbject.abi, address);\r\n\r\n// action types\r\nconst FETCHING = \"FETCHING\";\r\nconst SUCCESS = \"SUCCESS\";\r\nconst ERROR = \"ERROR\";\r\nconst OWNER = \"OWNER\";\r\nconst TRIBUTES = \"TRIBUTES\";\r\nconst PRINT_QR = \"PRINT_QR\";\r\nwindow.web3 = web3;\r\nwindow.meow = meowb;\r\nconst initialState = {\r\n  fetcher: { response: null, status: null },\r\n  ownership: { owner: null },\r\n  tributes: { tributes: null },\r\n  qr: null,\r\n  log: []\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  const { response, type, owner, tributes, what } = action;\r\n  switch (type) {\r\n    case FETCHING:\r\n      return {\r\n        ...state,\r\n        fetcher: { status: FETCHING },\r\n        log: [...state.log, `FETCHING > ${what}`]\r\n      };\r\n    case SUCCESS:\r\n      return {\r\n        ...state,\r\n        fetcher: { status: SUCCESS, response },\r\n        log: [...state.log, `SUCCESS: ${what} > ${JSON.stringify(response)}`]\r\n      };\r\n    case ERROR:\r\n      return {\r\n        ...state,\r\n        fetcher: { status: ERROR, response },\r\n        log: [...state.log, `ERROR: ${what} > ${JSON.stringify(response)}`]\r\n      };\r\n    case OWNER:\r\n      return { ...state, ownership: { owner } };\r\n    case TRIBUTES: {\r\n      return { ...state, tributes: { tributes } };\r\n    }\r\n    case PRINT_QR: {\r\n      return { ...state, qr: response };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst Web3Provider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  const [deviceAddress, setDeviceAddress] = useState();\r\n  const { fingerPrint } = useContext(DeviceContext);\r\n\r\n  useEffect(() => {\r\n    if (fingerPrint) {\r\n      const checkAccount = async () => {\r\n        const hashedFP = web3.utils.keccak256(fingerPrint);\r\n        dispatch({ type: FETCHING, what: \"DEVICE_ADDRESS\" });\r\n        const account = await meowb.methods.checkAccount(hashedFP).call();\r\n        setDeviceAddress(account);\r\n        if (account === \"0x0000000000000000000000000000000000000000\") {\r\n          if ((await web3.eth.net.getId()) === GANACHE_ID) {\r\n            const gAddress = await web3.eth.getAccounts();\r\n            await meowb.methods\r\n              .addAccount(hashedFP, gAddress[0])\r\n              .send({ from: gAddress[0] });\r\n            setDeviceAddress(gAddress);\r\n          } else {\r\n            dispatch({ type: FETCHING, what: \"CREATING NEW DEVICE ADDRESS\" });\r\n            const newAddress = web3.eth.accounts.create();\r\n            setDeviceAddress(newAddress);\r\n            const addA = await meowb.methods.addAccount(\r\n              hashedFP,\r\n              newAddress.address\r\n            );\r\n\r\n            // FOR GANACHE TESTING\r\n            const encodedABI = addA.encodeABI();\r\n            const tx = {\r\n              from: newAddress.address,\r\n              to: address,\r\n              gas: 2000000,\r\n              data: encodedABI\r\n            };\r\n            const signedT = await web3.eth.accounts.signTransaction(\r\n              tx,\r\n              newAddress.privateKey\r\n            );\r\n            await web3.eth.sendSignedTransaction(signedT.rawTransaction);\r\n            dispatch({\r\n              type: SUCCESS,\r\n              response: newAddress.address,\r\n              what: \"NEW DEVICE ADDRESS\"\r\n            });\r\n            // .send({ from: newAddress.address });\r\n          }\r\n        } else {\r\n          dispatch({\r\n            type: SUCCESS,\r\n            response: account,\r\n            what: \"DEVICE_ADDRESS\"\r\n          });\r\n          setDeviceAddress(account);\r\n        }\r\n      };\r\n      checkAccount();\r\n    }\r\n  }, [fingerPrint]);\r\n\r\n  const checkOwner = async qr => {\r\n    dispatch({ type: FETCHING, what: \"OWNER\" });\r\n    try {\r\n      const response = await meowb.methods.checkOwner(qr).call();\r\n      dispatch({ type: SUCCESS, response, what: \"OWNER\" });\r\n      dispatch({ type: OWNER, owner: response });\r\n      getTributes();\r\n    } catch (error) {\r\n      dispatch({ type: ERROR, response: error, what: \"OWNER\" });\r\n    }\r\n  };\r\n\r\n  const claimQR = async qr => {\r\n    dispatch({ type: FETCHING, what: \"QRCLAIM\" });\r\n    try {\r\n      const account = await web3.eth.getAccounts();\r\n      const response = await meowb.methods\r\n        .claimQR(qr[0], qr[1], deviceAddress)\r\n        .send({ from: account[0] });\r\n\r\n      if (response.events.MeowError) {\r\n        dispatch({\r\n          type: ERROR,\r\n          response: response.events.MeowError.returnValues[0],\r\n          what: \"QRCLAIM\"\r\n        });\r\n      } else {\r\n        dispatch({ type: SUCCESS, response: response, what: \"QRCLAIM\" });\r\n        dispatch({ type: OWNER, owner: deviceAddress });\r\n      }\r\n    } catch (error) {\r\n      dispatch({\r\n        type: ERROR,\r\n        response: \"this code is already claimed or does not exist\"\r\n      });\r\n    }\r\n  };\r\n\r\n  const addQR = async (qr, shape, color) => {\r\n    dispatch({ type: FETCHING, what: \"QRADD\" });\r\n    dispatch({ type: PRINT_QR, response: null });\r\n\r\n    try {\r\n      const account = await web3.eth.getAccounts();\r\n      const response = await meowb.methods\r\n        .addQR(qr, shape, color)\r\n        .send({ from: account[0], gas: 3000000 });\r\n      dispatch({ type: SUCCESS, response: response, what: \"QRADD\" });\r\n      const QRID = response.events.MeowObjectAddedID.returnValues[0];\r\n      dispatch({ type: \"PRINT_QR\", response: `${QRID}-${qr}` });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: ERROR,\r\n        response: \"something went wrong, this QR probably already exists\",\r\n        what: \"QRADD\"\r\n      });\r\n    }\r\n  };\r\n\r\n  const getTributes = async id => {\r\n    dispatch({ type: FETCHING, what: \"ATTRIBUTES\" });\r\n    const qr = window.location.search\r\n      ? window.location.search.split(\"?\")[1].split(\"-\")\r\n      : [1, \"null_object\"];\r\n    const _id = id ? id : qr[0];\r\n    try {\r\n      const tributes = await meowb.methods.getTributes(_id).call();\r\n      dispatch({ type: SUCCESS, response: tributes, what: \"ATTRIBUTES\" });\r\n      dispatch({ type: TRIBUTES, tributes });\r\n      return tributes;\r\n    } catch (error) {\r\n      dispatch({ type: ERROR, response: error.message });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Web3Context.Provider\r\n      value={{ state, dispatch, checkOwner, claimQR, addQR, getTributes }}\r\n    >\r\n      {children}\r\n    </Web3Context.Provider>\r\n  );\r\n};\r\n\r\nexport default Web3Provider;\r\n","import styled from \"styled-components\";\r\n\r\nexport const AdminTag = styled.div`\r\n  height: 3rem;\r\n  position: relative;\r\n  background: red;\r\n  line-height: 3.4rem;\r\n  padding: 0rem 0.5rem 0rem 0.6rem;\r\n  font-size: 0.9rem;\r\n  border-radius: 0rem 1.8rem 0 0;\r\n  font-weight: 800;\r\n  box-shadow: 7px 8px black;\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n  cursor: pointer;\r\n  width: 5rem;\r\n`;\r\n\r\nexport const FetchStatus = styled.div`\r\n  color: white;\r\n  font-family: monospace;\r\n  font-weight: bold;\r\n  background: black;\r\n  width: 100%;\r\n  text-align: center;\r\n  height: 2rem;\r\n  font-size: 1.6rem;\r\n  line-height: 2rem;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nexport const Bottom = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nexport const Owntainer = styled.div`\r\n  text-align: center;\r\n  font-size: 1.4rem;\r\n  border: 1px black solid;\r\n  width: 82%;\r\n  padding: 1rem;\r\n  margin: auto;\r\n  box-shadow: 8px 6px black;\r\n  margin-top: 1.5rem;\r\n  max-width: 33rem;\r\n`;\r\n\r\nexport const Loadtainer = styled(Owntainer)`\r\n  height: 100vh;\r\n  line-height: 100vh;\r\n  font-size: 4rem;\r\n`;\r\n\r\nexport const Owner = styled.div`\r\n  font-size: 1rem;\r\n  width: 80%;\r\n  overflow-wrap: break-word;\r\n  text-align: center;\r\n  margin: auto;\r\n  padding-top: 0.8rem;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  background: white;\r\n  color: black;\r\n  font-family: monospace;\r\n  display: block;\r\n  width: 9rem;\r\n  font-size: 2rem;\r\n  height: 4rem;\r\n  margin-top: 3rem;\r\n  margin: auto;\r\n  margin-top: 1.1rem;\r\n  border: 3px black solid;\r\n  box-shadow: 7px 5px #f41717;\r\n`;\r\n\r\nexport const LogtainerTitle = styled.div`\r\n  width: 3rem;\r\n  border-bottom: 1px solid white;\r\n  line-height: 1.6rem;\r\n  margin-bottom: 0.4rem;\r\n`;\r\nexport const Logtainer = styled.div`\r\n  margin: 2rem 3rem 1rem 1.1rem;\r\n  font-size: 0.7rem;\r\n  background: black;\r\n  color: #8e8ee3;\r\n  padding: 0.6rem;\r\n  box-shadow: 7px 7px #8e8ee3;\r\n  @media (max-width: 500px) {\r\n    width: 85%;\r\n  }\r\n`;\r\n\r\nexport const FormContainer = styled.div`\r\n  border: 2px black solid;\r\n  text-align: center;\r\n  max-width: 21rem;\r\n  margin: 2rem auto;\r\n  padding: 0px 0rem 2rem;\r\n  box-shadow: 12px 9px black;\r\n`;\r\n\r\nexport const InputField = styled.input`\r\n  width: 13rem;\r\n  border-color: black;\r\n  height: 2rem;\r\n  font-size: 1rem;\r\n  padding: 0.5rem;\r\n  margin: 1rem 0rem;\r\n`;\r\n\r\nexport const Dropdown = styled.select`\r\n  width: 14.3rem;\r\n  border-color: black;\r\n  height: 3rem;\r\n  font-size: 1rem;\r\n  padding: 0.5rem;\r\n  margin: 1rem 0rem;\r\n`;\r\n\r\nexport const QR = styled.img`\r\n  margin: auto;\r\n  width: 50%;\r\n  max-width: 21rem;\r\n  display: block;\r\n  box-shadow: 12px 18px black;\r\n`;\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  AdminTag,\r\n  Dropdown,\r\n  FormContainer,\r\n  InputField,\r\n  Button,\r\n  QR\r\n} from \"./styles\";\r\nimport { DeviceContext } from \"./DeviceContext\";\r\nimport { Web3Context } from \"./Web3Context\";\r\nimport QRCode from \"qrcode\";\r\nimport template from \"./2.png\";\r\nimport felix from \"./felix_grey.png\";\r\nimport loading from \"./loading.gif\";\r\nconst host =\r\n  process.env.NODE_ENV === \"development\"\r\n    ? \"https://192.168.0.12:3000\"\r\n    : \"https://meowbjects.com\";\r\n\r\nconst Admin = () => {\r\n  const { setView } = useContext(DeviceContext);\r\n  const { addQR, state } = useContext(Web3Context);\r\n  const name = useRef();\r\n  const shape = useRef();\r\n  const color = useRef();\r\n\r\n  const [img, setImg] = useState();\r\n\r\n  const [qr, setQR] = useState();\r\n\r\n  const sendQR = () => {\r\n    console.log(shape.current.value);\r\n    const { value: nvalue } = name.current;\r\n    const { value: svalue } = shape.current;\r\n    const { value: cvalue } = color.current;\r\n    addQR(nvalue, svalue, cvalue);\r\n  };\r\n  const makeQR = async text => {\r\n    var opts = {\r\n      errorCorrectionLevel: \"H\",\r\n      type: \"image/jpeg\",\r\n      color: { light: \"#FFFFFF\" },\r\n      width: 400,\r\n      rendererOpts: {\r\n        quality: 1\r\n      }\r\n    };\r\n    const qr = await QRCode.toDataURL(text, opts);\r\n    setQR(qr);\r\n    return qr;\r\n  };\r\n\r\n  const drawQR = async () => {\r\n    const qr = await makeQR(`${host}/?${state.qr}`);\r\n    const canvas = document.getElementById(\"canvas\");\r\n    const templateImg = new Image();\r\n    const qrImg = new Image();\r\n    const feliximg = new Image();\r\n    const ctx = canvas.getContext(\"2d\");\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    templateImg.src = template;\r\n    templateImg.onload = () => {\r\n      ctx.drawImage(templateImg, 0, 0);\r\n      qrImg.src = qr;\r\n      qrImg.onload = () => {\r\n        ctx.drawImage(qrImg, 155, 155, 200, 200);\r\n        feliximg.src = felix;\r\n        feliximg.onload = function() {\r\n          ctx.drawImage(feliximg, 230, 230, 50, 50);\r\n          setImg(canvas.toDataURL());\r\n        };\r\n      };\r\n    };\r\n  };\r\n  useEffect(() => {\r\n    if (!state.qr) {\r\n      setQR(null);\r\n      return;\r\n    }\r\n    drawQR();\r\n  }, [state.qr]);\r\n  return (\r\n    <div style={{ height: \"100%\" }}>\r\n      <div style={{ position: \"sticky\", top: \"10rem\", width: \"10rem\" }}>\r\n        <AdminTag onClick={() => setView(\"viewer\")}>no admin?</AdminTag>\r\n        <AdminTag onClick={() => setView(\"AR\")}>AR?</AdminTag>\r\n      </div>\r\n      <FormContainer style={{ textAlign: \"center\" }}>\r\n        <h1>add one</h1>\r\n        <InputField ref={name} placeholder=\"name\" />\r\n        {/* <InputField ref={shape} placeholder=\"shape\" /> */}\r\n        <Dropdown ref={shape} name=\"shape\">\r\n          <option value=\"sphere\">Sphere</option>\r\n          <option value=\"cube\">Cube</option>\r\n          <option value=\"torus\">Torus</option>\r\n          <option value=\"torusknot\">Torus Knot</option>\r\n        </Dropdown>\r\n        <InputField ref={color} placeholder=\"color\" />\r\n        <Button onClick={sendQR} disabled={state.fetcher.status === \"FETCHING\"}>\r\n          {state.fetcher.status === \"FETCHING\" ? \"ADDING\" : \"CLICKY\"}\r\n        </Button>\r\n      </FormContainer>\r\n      <img\r\n        style={{\r\n          width: \"80%\",\r\n          display: \"block\",\r\n          margin: \"auto\",\r\n          maxWidth: \"420px\",\r\n          boxShadow: \"12px 15px black\"\r\n        }}\r\n        src={state.fetcher.status === \"FETCHING\" ? loading : img}\r\n      ></img>\r\n      {qr && (\r\n        <canvas\r\n          id=\"canvas\"\r\n          width={\"500px\"}\r\n          height=\"500px\"\r\n          style={{ maxWidth: \"21rem\", maxHeight: \"21rem\", display: \"none\" }}\r\n        ></canvas>\r\n      )}\r\n      {qr && (\r\n        <a\r\n          style={{\r\n            textAlign: \"center\",\r\n            margin: \"auto\",\r\n            display: \"block\",\r\n            fontSize: \"30px\",\r\n            textDecoration: \"none\",\r\n            color: \"red\"\r\n          }}\r\n          href={`${host}/?${state.qr}`}\r\n        >\r\n          {state.fetcher.status === \"FETCHING\" ? \"ADDING...\" : \"CLICKY\"}\r\n        </a>\r\n      )}\r\n      <div\r\n        style={{\r\n          textAlign: \"center\",\r\n          width: \"80%\",\r\n          display: \"block\",\r\n          margin: \"auto\",\r\n          overflowWrap: \"break-word\"\r\n        }}\r\n      >\r\n        {state.fetcher.status} - {JSON.stringify(state.fetcher.response)}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n","import React, {\r\n  Fragment,\r\n  useContext,\r\n  useEffect,\r\n  useRef,\r\n  useState\r\n} from \"react\";\r\nimport web3 from \"web3\";\r\nimport { Web3Context } from \"./Web3Context\";\r\nimport { isOwned } from \"./constants\";\r\nimport * as THREE from \"three\";\r\nimport {\r\n  AdminTag,\r\n  Button,\r\n  Bottom,\r\n  Owner,\r\n  Owntainer,\r\n  FetchStatus,\r\n  Loadtainer,\r\n  Logtainer,\r\n  LogtainerTitle\r\n} from \"./styles\";\r\nimport { DeviceContext } from \"./DeviceContext\";\r\n\r\nfunction App() {\r\n  const { checkOwner, claimQR, state } = useContext(Web3Context);\r\n  const { setView } = useContext(DeviceContext);\r\n  const qr = window.location.search\r\n    ? window.location.search.split(\"?\")[1].split(\"-\")\r\n    : [1, \"null_object\"];\r\n  const thereIsQR = qr[0] !== \"\" ? true : false;\r\n  const color = useRef();\r\n  const three = useRef();\r\n  useEffect(() => {\r\n    if (!state.tributes.tributes) return;\r\n    color.current = state.tributes.tributes.color;\r\n  }, [state.tributes]);\r\n  const getColor = () => color.current;\r\n  useEffect(() => {\r\n    if (thereIsQR) checkOwner(web3.utils.keccak256(qr[1]));\r\n    return () => {};\r\n  }, []);\r\n  useEffect(() => {\r\n    if (!thereIsQR) return;\r\n    if (!state.tributes.tributes) return;\r\n    const scene = new THREE.Scene();\r\n    const halfHeight = window.innerHeight / 2;\r\n    const camera = new THREE.PerspectiveCamera(\r\n      75,\r\n      (window.innerWidth * 0.8) / halfHeight,\r\n      0.1,\r\n      1000\r\n    );\r\n    const renderer = new THREE.WebGLRenderer({ alpha: true });\r\n    renderer.setSize(window.innerWidth * 0.8, halfHeight);\r\n    renderer.setClearColor(0xffffff, 0);\r\n    three.current.appendChild(renderer.domElement);\r\n\r\n    const { shape } = state.tributes.tributes;\r\n    let geometry;\r\n    if (shape === \"sphere\") {\r\n      geometry = new THREE.SphereGeometry(1, 32, 32);\r\n    } else if (shape === \"cube\") {\r\n      geometry = new THREE.BoxGeometry(1, 1, 1);\r\n    } else if (shape === \"torus\") {\r\n      geometry = new THREE.TorusGeometry(1, 0.1, 16, 100);\r\n    } else {\r\n      geometry = new THREE.TorusKnotGeometry(1, 0.3, 20, 16);\r\n    }\r\n    const material = new THREE.MeshPhongMaterial({\r\n      color: \"red\",\r\n      emissive: 0x2a0000,\r\n\r\n      shininess: 10,\r\n      specular: 0xffffff\r\n    });\r\n\r\n    const cube = new THREE.Mesh(geometry, material);\r\n    scene.add(cube);\r\n    var spotLight = new THREE.SpotLight(0xffffff);\r\n    spotLight.position.set(1.25, 1.25, 1.25);\r\n    scene.add(spotLight);\r\n\r\n    var light = new THREE.AmbientLight(0x404040, 4); // soft white light\r\n    scene.add(light);\r\n    let req;\r\n    camera.position.z = 5;\r\n    function animate() {\r\n      req = requestAnimationFrame(animate);\r\n      material.color = new THREE.Color(getColor());\r\n      cube.rotation.x += 0.01;\r\n      cube.rotation.y += 0.01;\r\n\r\n      renderer.render(scene, camera);\r\n    }\r\n    animate();\r\n\r\n    return () => {\r\n      document.querySelector(\"canvas\").remove();\r\n      window.cancelAnimationFrame(req);\r\n    };\r\n  }, [state.tributes]);\r\n  const {\r\n    ownership: { owner },\r\n    fetcher: { status, response },\r\n    log,\r\n    tributes\r\n  } = state;\r\n  if (!thereIsQR) return <div>nothing to see here</div>;\r\n  return (\r\n    <div>\r\n      <div style={{ position: \"sticky\", top: \"10rem\", width: \"10rem\" }}>\r\n        <AdminTag onClick={() => setView(\"admin\")}>admin?</AdminTag>\r\n        <AdminTag onClick={() => setView(\"AR\")}>AR?</AdminTag>\r\n      </div>\r\n      <FetchStatus>{status}</FetchStatus>\r\n      {!tributes.tributes && <Loadtainer>LOADING</Loadtainer>}\r\n      <div id=\"three\" ref={three}></div>\r\n      <Bottom>\r\n        {qr[1] === \"null_object\" && (\r\n          <Owntainer>This is not a valid URL</Owntainer>\r\n        )}\r\n        {isOwned(owner) ? (\r\n          <Owntainer style={{ textAlign: \"center\", fontSize: \"1.4rem\" }}>\r\n            <div>claimed by:</div> <Owner>{owner}</Owner>\r\n          </Owntainer>\r\n        ) : (\r\n          <Owntainer>\r\n            <div\r\n              style={{\r\n                textDecoration: \"underline\",\r\n                lineHeight: \"3rem\"\r\n              }}\r\n            >\r\n              hello friend!\r\n            </div>\r\n            {status !== \"FETCHING\" ? (\r\n              <div>\r\n                <div>would you like to claim this meowbject?</div>\r\n                <Button onClick={() => claimQR(qr)}>claim</Button>\r\n              </div>\r\n            ) : (\r\n              <div>CLAIMING...</div>\r\n            )}\r\n            {status === \"ERROR\" && (\r\n              <div style={{ padding: \"2rem\", color: \"red\" }}>{response}</div>\r\n            )}\r\n          </Owntainer>\r\n        )}\r\n        <Logtainer>\r\n          <LogtainerTitle>DEV_LOG</LogtainerTitle>\r\n          {log.map((l, i) => (\r\n            <div\r\n              key={l + i}\r\n              style={{\r\n                borderBottom: \"1px white solid\",\r\n                padding: \"1rem 0rem 1rem 0rem\",\r\n                overflowWrap: \"break-word\"\r\n              }}\r\n            >\r\n              {l}\r\n            </div>\r\n          ))}\r\n        </Logtainer>\r\n      </Bottom>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport jsQR from \"jsqr\";\r\nimport QR from \"./2.png\";\r\nimport QrReader from \"react-qr-reader\";\r\nimport { Web3Context } from \"./Web3Context\";\r\nimport { AdminTag } from \"./styles\";\r\nimport { DeviceContext } from \"./DeviceContext\";\r\nconst THREE = window.THREE;\r\nconst THREEx = window.THREEx;\r\nconst host =\r\n  process.env.NODE_ENV === \"development\"\r\n    ? \"https://192.168.0.12:3000\"\r\n    : \"https://meowbjects.com\";\r\nvar markerScene, omesh;\r\nconst AR = () => {\r\n  const [qr, setQR] = useState();\r\n  const [shape, setShape] = useState();\r\n  const [msg, setMsg] = useState();\r\n  const { getTributes } = useContext(Web3Context);\r\n  const { setView } = useContext(DeviceContext);\r\n\r\n  const qrReader = useRef();\r\n\r\n  const handleScan = d => {\r\n    if (d) setQR(d);\r\n  };\r\n\r\n  const handleError = e => console.log(e);\r\n\r\n  //   useEffect(() => {\r\n  //     var canvas = document.getElementById(\"canvas\");\r\n  //     var context = canvas.getContext(\"2d\");\r\n  //     var img = new Image();\r\n  //     img.src = QR;\r\n  //     canvas.width = 512;\r\n  //     canvas.height = 512;\r\n  //     img.onload = () => {\r\n  //       context.drawImage(img, 0, 0);\r\n  //       var myData = context.getImageData(0, 0, img.width, img.height);\r\n  //       console.log(myData);\r\n  //       const code = jsQR(myData.data, img.width, img.height);\r\n  //       setQR(code.data);\r\n  //     };\r\n  //   }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(\"yo\");\r\n    if (!qr) return;\r\n    setMsg(\"QR FOUND\");\r\n    window.history.pushState(null, \"crab\", `${host}/?${qr.split(\"?\")[1]}`);\r\n    var qrFrame = document.querySelector(\".teco\");\r\n\r\n    // const fadeOut = () => {\r\n    //   let o = 1;\r\n    //   const anim = () => {\r\n    //     if (o < 0) {\r\n    //       qrFrame.remove();\r\n    //       return;\r\n    //     }\r\n    //     requestAnimationFrame(anim);\r\n    //     o += -0.01;\r\n    //     console.log(o);\r\n    //     qrFrame.style.opacity = o;\r\n    //   };\r\n    //   anim();\r\n    // };\r\n    // fadeOut();\r\n    // document.querySelector(\".teco\").remove();\r\n    const getT = async () => {\r\n      const t = await getTributes(qr.split(\"?\")[1].split(\"-\")[0]);\r\n      setShape(t);\r\n    };\r\n    getT();\r\n  }, [qr]);\r\n\r\n  useEffect(() => {\r\n    // if (!shape) return;\r\n    console.log(shape);\r\n    // return\r\n    ////////////////////////////////////////////////////////////////////////////////\r\n    // Init\r\n    ////////////////////////////////////////////////////////////////////////////////\r\n\r\n    // init renderer\r\n    var renderer = new THREE.WebGLRenderer({\r\n      // antialias\t: true,\r\n      alpha: true\r\n    });\r\n    renderer.setClearColor(new THREE.Color(\"lightgrey\"), 0);\r\n    // renderer.setPixelRatio( 2 );\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    renderer.domElement.style.position = \"absolute\";\r\n    renderer.domElement.style.top = \"0px\";\r\n    renderer.domElement.style.left = \"0px\";\r\n    document.body.appendChild(renderer.domElement);\r\n\r\n    // array of functions for the rendering loop\r\n    var onRenderFcts = [];\r\n\r\n    // init scene and camera\r\n    var scene = new THREE.Scene();\r\n\r\n    //////////////////////////////////////////////////////////////////////////////////\r\n    //\t\tInitialize a basic camera\r\n    //////////////////////////////////////////////////////////////////////////////////\r\n\r\n    // Create a camera\r\n    var camera = new THREE.Camera();\r\n    scene.add(camera);\r\n\r\n    ////////////////////////////////////////////////////////////////////////////////\r\n    //          handle arToolkitSource\r\n    ////////////////////////////////////////////////////////////////////////////////\r\n\r\n    var artoolkitProfile = new THREEx.ArToolkitProfile();\r\n    artoolkitProfile.sourceWebcam();\r\n    // artoolkitProfile.sourceVideo(THREEx.ArToolkitContext.baseURL + '../data/videos/headtracking.mp4').kanjiMarker();\r\n    // artoolkitProfile.sourceImage(\"./2.png\");\r\n    artoolkitProfile.contextParameters.patternRatio = 0.77;\r\n    artoolkitProfile.contextParameters.cameraParametersUrl =\r\n      \"./camera_para.dat\";\r\n    var arToolkitSource = new THREEx.ArToolkitSource(\r\n      artoolkitProfile.sourceParameters\r\n    );\r\n\r\n    arToolkitSource.init(function onReady() {\r\n      onResize();\r\n    });\r\n\r\n    // handle resize\r\n    window.addEventListener(\"resize\", function() {\r\n      onResize();\r\n    });\r\n    function onResize() {\r\n      arToolkitSource.onResizeElement();\r\n      arToolkitSource.copyElementSizeTo(renderer.domElement);\r\n      if (arToolkitContext.arController !== null) {\r\n        arToolkitSource.copyElementSizeTo(arToolkitContext.arController.canvas);\r\n      }\r\n    }\r\n\r\n    ////////////////////////////////////////////////////////////////////////////////\r\n    //          initialize arToolkitContext\r\n    ////////////////////////////////////////////////////////////////////////////////\r\n\r\n    // create atToolkitContext\r\n    var arToolkitContext = new THREEx.ArToolkitContext(\r\n      artoolkitProfile.contextParameters\r\n    );\r\n    // initialize it\r\n    arToolkitContext.init(function onCompleted() {\r\n      // copy projection matrix to camera\r\n      camera.projectionMatrix.copy(arToolkitContext.getProjectionMatrix());\r\n    });\r\n\r\n    // update artoolkit on every frame\r\n    onRenderFcts.push(function() {\r\n      if (arToolkitSource.ready === false) return;\r\n\r\n      arToolkitContext.update(arToolkitSource.domElement);\r\n    });\r\n\r\n    ////////////////////////////////////////////////////////////////////////////////\r\n    //          Create a ArMarkerControls\r\n    ////////////////////////////////////////////////////////////////////////////////\r\n\r\n    var markerGroup = new THREE.Group();\r\n    scene.add(markerGroup);\r\n    var markerControls = new THREEx.ArMarkerControls(\r\n      arToolkitContext,\r\n      markerGroup,\r\n      {\r\n        type: \"pattern\",\r\n        patternUrl: \"2.patt\"\r\n      }\r\n    );\r\n\r\n    // // build a smoothedControls\r\n    // var smoothedGroup = new THREE.Group()\r\n    // scene.add(smoothedGroup)\r\n    // var smoothedControls = new THREEx.ArSmoothedControls(smoothedGroup)\r\n    // onRenderFcts.push(function(delta){\r\n    // \tsmoothedControls.update(markerGroup)\r\n    // })\r\n\r\n    //////////////////////////////////////////////////////////////////////////////////\r\n    //\t\tadd an object in the scene\r\n    //////////////////////////////////////////////////////////////////////////////////\r\n\r\n    markerScene = new THREE.Scene();\r\n    markerGroup.add(markerScene);\r\n\r\n    var mesh = new THREE.AxesHelper();\r\n    markerScene.add(mesh);\r\n\r\n    // add a torus knot\r\n    // var geometry = new THREE.CubeGeometry(1, 1, 1);\r\n    // var material = new THREE.MeshNormalMaterial({\r\n    //     transparent: true,\r\n    //     opacity: 0.5,\r\n    //     side: THREE.DoubleSide\r\n    // });\r\n    // var mesh = new THREE.Mesh(geometry, material);\r\n    // mesh.position.y = geometry.parameters.height / 2\r\n    // markerScene.add(mesh)\r\n\r\n    // let geometry;\r\n    // if (shape.shape === \"sphere\") {\r\n    //   geometry = new THREE.SphereGeometry(1 * 0.3, 32, 32);\r\n    // } else if (shape.shape === \"cube\") {\r\n    //   geometry = new THREE.BoxGeometry(0.3, 0.3, 0.3);\r\n    // } else if (shape.shape === \"torus\") {\r\n    //   geometry = new THREE.TorusGeometry(1 * 0.3, 0.1, 16, 100);\r\n    // } else {\r\n    //   geometry = new THREE.TorusKnotGeometry(1 * 0.3, 0.1, 20, 16);\r\n    // }\r\n\r\n    // var material = new THREE.MeshBasicMaterial({ color: shape.color });\r\n\r\n    // var mesh = new THREE.Mesh(geometry, material);\r\n    // mesh.position.y = 1;\r\n    // markerScene.add(mesh);\r\n\r\n    onRenderFcts.push(function(delta) {\r\n      if (omesh) omesh.rotation.x += delta * Math.PI;\r\n    });\r\n\r\n    //////////////////////////////////////////////////////////////////////////////////\r\n    //\t\trender the whole thing on the page\r\n    //////////////////////////////////////////////////////////////////////////////////\r\n    // render the scene\r\n    onRenderFcts.push(function() {\r\n      renderer.render(scene, camera);\r\n    });\r\n\r\n    // run the rendering loop\r\n    var lastTimeMsec = null;\r\n    let req;\r\n    requestAnimationFrame(function animate(nowMsec) {\r\n      // keep looping\r\n      req = requestAnimationFrame(animate);\r\n      //   if (arToolkitContext.arController)\r\n      //     arToolkitContext.arController.orientation = \"portrait\";\r\n      // measure time\r\n\r\n      lastTimeMsec = lastTimeMsec || nowMsec - 1000 / 60;\r\n      var deltaMsec = Math.min(200, nowMsec - lastTimeMsec);\r\n      lastTimeMsec = nowMsec;\r\n      // call each update function\r\n      onRenderFcts.forEach(function(onRenderFct) {\r\n        onRenderFct(deltaMsec / 1000, nowMsec / 1000);\r\n      });\r\n    });\r\n    return () => {\r\n      cancelAnimationFrame(req);\r\n      document.querySelector(\"canvas\").remove();\r\n      try {\r\n        document.querySelector(\"canvas\").remove();\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n      document.querySelector(\"video\").remove();\r\n      try {\r\n        document.querySelector(\"video\").remove();\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!shape) return;\r\n    let geometry;\r\n    markerScene.remove(omesh);\r\n    if (shape.shape === \"sphere\") {\r\n      geometry = new THREE.SphereGeometry(1 * 0.3, 32, 32);\r\n    } else if (shape.shape === \"cube\") {\r\n      geometry = new THREE.BoxGeometry(0.3, 0.3, 0.3);\r\n    } else if (shape.shape === \"torus\") {\r\n      geometry = new THREE.TorusGeometry(1 * 0.3, 0.1, 16, 100);\r\n    } else {\r\n      geometry = new THREE.TorusKnotGeometry(1 * 0.3, 0.1, 20, 16);\r\n    }\r\n\r\n    var material = new THREE.MeshBasicMaterial({ color: shape.color });\r\n\r\n    omesh = new THREE.Mesh(geometry, material);\r\n    omesh.position.y = 1;\r\n    markerScene.add(omesh);\r\n  }, [shape]);\r\n  //   useEffect(() => {\r\n  //     setShape({ shape: \"torus\", color: \"green\" });\r\n  //   }, []);\r\n  return (\r\n    <div>\r\n      <div\r\n        style={{\r\n          position: \"sticky\",\r\n          top: \"10rem\",\r\n          width: \"10rem\",\r\n          zIndex: \"100\"\r\n        }}\r\n      >\r\n        <AdminTag onClick={() => setView(\"viewer\")}>viewer?</AdminTag>\r\n        <AdminTag onClick={() => setView(\"admin\")}>admin?</AdminTag>\r\n      </div>\r\n      <QrReader\r\n        className={\"teco\"}\r\n        delay={300}\r\n        onError={handleError}\r\n        onScan={handleScan}\r\n        style={{ width: \"100%\", display: \"none\" }}\r\n      />\r\n      {/* <canvas style={{ display: \"none\" }} id=\"canvas\" /> */}\r\n      {/* <div\r\n        style={{\r\n          color: \"red\",\r\n          position: \"absolute\",\r\n          top: \"10rem\",\r\n          left: \"10rem\",\r\n          zIndex: \"10\"\r\n        }}\r\n      >\r\n        {msg}\r\n        <a href={qr}>claim mE</a>\r\n      </div> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AR;\r\n","import React, { Fragment, useContext } from \"react\";\r\nimport Admin from \"./Admin\";\r\nimport App from \"./App\";\r\nimport { DeviceContext } from \"./DeviceContext\";\r\nimport AR from \"./AR\";\r\n\r\nconst Chooser = () => {\r\n  const { view } = useContext(DeviceContext);\r\n  return (\r\n    <Fragment>\r\n      {view === \"viewer\" && <App />}\r\n      {view === \"admin\" && <Admin />}\r\n      {view === \"AR\" && <AR />}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Chooser;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport DeviceProvider from \"./DeviceContext\";\r\nimport Web3Provider from \"./Web3Context\";\r\nimport Chooser from \"./Chooser\";\r\n\r\nReactDOM.render(\r\n  <DeviceProvider>\r\n    <Web3Provider>\r\n      <Chooser />\r\n    </Web3Provider>\r\n  </DeviceProvider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/2.10ca7537.png\";"],"sourceRoot":""}